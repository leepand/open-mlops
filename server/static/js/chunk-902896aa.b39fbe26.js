(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-902896aa"],{3731:function(e,t,i){"use strict";i("9f20")},4928:function(e,t,i){e.exports=i.p+"img/icon-yes.d2f9f035.svg"},"60be":function(e,t,i){e.exports=i.p+"img/icon-no.439e8214.svg"},"9f20":function(e,t,i){},db83:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{margin:"30px"}},[n("el-divider"),n("el-descriptions",{staticClass:"margin-top",staticStyle:{"margin-top":"25px"},attrs:{title:"模型实验信息",column:3,size:e.size}},[n("template",{slot:"extra"},[n("router-link",{staticStyle:{"text-decoration":"none",color:"aliceblue"},attrs:{to:{name:"模型实验",params:{experiment_id:this.$route.params.experiment_id}},align:"right"}},[n("el-button",[n("i",{staticClass:"el-icon-arrow-left",staticStyle:{"margin-right":"10px"}}),e._v("返回模型实验")])],1)],1),n("el-descriptions-item",{attrs:{label:"开始时间"}},[e._v("\n        "+e._s(e._f("formatDate")(e.modelRun.info.start_time))+"\n    ")]),n("el-descriptions-item",{attrs:{label:"Lifecycle Stage"}},[e._v("\n        "+e._s(e.modelRun.info.lifecycle_stage)+"\n    ")]),n("el-descriptions-item",{attrs:{label:"责任人"}},[e._v("\n        "+e._s(e.modelRun.info.user_id)+"\n    ")]),n("el-descriptions-item",{attrs:{label:"实验状态"}},[e._v("\n        "+e._s(e.modelRun.info.status)+"\n    ")])],2),n("el-divider"),n("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[n("el-collapse-item",{attrs:{title:"描述",name:"1"}},[n("div",[e._t("default",(function(){return[n("span",{directives:[{name:"show",rawName:"v-show",value:!e.editModelRunDescVisible,expression:"!editModelRunDescVisible"}]},[e._v(e._s(e.modelRun.tags[0].value))]),n("el-input",{directives:[{name:"show",rawName:"v-show",value:e.editModelRunDescVisible,expression:"editModelRunDescVisible"}],staticClass:"modelDescStyle",attrs:{type:"textarea",autosize:{minRows:4,maxRows:6}},model:{value:e.editModelForm.description,callback:function(t){e.$set(e.editModelForm,"description",t)},expression:"editModelForm.description"}}),n("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.editModelRunDescVisible,expression:"!editModelRunDescVisible"}],staticClass:"inline",staticStyle:{padding:"0px","margin-right":"10px"},attrs:{icon:"el-icon-edit",type:"text"},on:{click:function(t){return e.handleModelDescEdit("index",{description:"description"})}}}),n("br"),n("span",{directives:[{name:"show",rawName:"v-show",value:e.editModelRunDescVisible,expression:"editModelRunDescVisible"}]},[n("el-button",{attrs:{type:"text",icon:"el-icon-back"},nativeOn:{click:function(t){e.editModelRunDescVisible=!1}}},[e._v("取消")]),n("el-button",{attrs:{type:"text",loading:e.editLoading,icon:"el-icon-check"},nativeOn:{click:function(t){return e.editSubmit.apply(null,arguments)}}},[e._v("保存")])],1)]}),{description:e.description})],2)]),n("el-collapse-item",{attrs:{title:"实验列表",name:"2"}},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.modelRunsList,"highlight-current-row":""},on:{"selection-change":e.selsModelRunTracking}},[n("el-table-column",{attrs:{type:"selection","min-width":"5%"}}),n("el-table-column",{attrs:{prop:"info.run_id",label:"run_id","min-width":"35%"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("img",{directives:[{name:"show",rawName:"v-show",value:"RUNNING"===t.row.info.status,expression:"scope.row.info.status==='RUNNING'"}],attrs:{src:i("4928")}}),n("img",{directives:[{name:"show",rawName:"v-show",value:"RUNNING"!=t.row.info.status,expression:"scope.row.info.status!='RUNNING'"}],attrs:{src:i("60be")}}),e._v("\n                         \n                        "),n("el-icon",{attrs:{name:"info.run_id"}}),n("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:{name:"模型实验详情",params:{run_id:t.row.info.run_id}}}},[e._v(e._s(t.row.info.run_id)+"\n                        ")])]}}])}),n("el-table-column",{attrs:{prop:"info.name",label:"名称","min-width":"10%"}}),n("el-table-column",{attrs:{prop:"info.start_time",label:"开始时间","min-width":"20%",sortable:"","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                      "+e._s(e._f("formatDate")(t.row.info.start_time))+"\n                    ")]}}])}),n("el-table-column",{attrs:{prop:"info.user_id",label:"责任人","min-width":"10%"}}),n("el-table-column",{attrs:{prop:"info.status",label:"当前状态","min-width":"10%"}})],1),n("el-col",{staticClass:"toolbar",attrs:{span:24}},[n("el-button",{attrs:{type:"success",disabled:0===this.selsModelRunCompare.length},on:{click:e.compareVersion}},[e._v("Compare")]),n("el-pagination",{staticStyle:{float:"right"},attrs:{background:"",layout:"prev, pager, next","page-size":20,"page-count":e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)],1)],1)},s=[],o=(i("c5f6"),i("4ec3")),a=i("1157"),r=i.n(a),l={data:function(){return{_filters:{name:""},modelRun:{},selsModelRunCompare:[],modelRunsList:[],editLoading:!1,ExperimentbaseInfo:{},editModelRunDescVisible:!1,activeNames:["2"],sels:[],total:0,page:1,listLoading:!1,editModelForm:{description:""}}},created:function(){},filters:{formatDate:function(e){var t=new Date(e),i=t.getFullYear(),n=t.getMonth()+1;n=n<10?"0"+n:n;var s=t.getDate();s=s<10?"0"+s:s;var o=t.getHours();o=o<10?"0"+o:o;var a=t.getMinutes();a=a<10?"0"+a:a;var r=t.getSeconds();return r=r<10?"0"+r:r,i+"-"+n+"-"+s+" "+o+":"+a+":"+r}},methods:{_getModelRun:function(){this.listLoading=!0;var e=this,t={run_id:this.$route.params.run_id,user_key:JSON.parse(sessionStorage.getItem("name"))},i={"Content-Type":"application/json",Authorization:"Token "+JSON.parse(sessionStorage.getItem("token"))};Object(o["o"])(i,t).then((function(t){var i=t.msg,n=t.code,s=t.data;e.listLoading=!1,"999999"===n?(e.modelRun=s,console.log(e.modelRun,"self.modelRun")):e.$message.error({message:i,center:!0})}))},handleModelDescEdit:function(e,t){this.editModelRunDescVisible=!0;var i=this.modelRun.tags[0].value||"无";this.editModelForm=Object.assign({},{description:i})},disabledCheckBox:function(e,t){return!1===e.is_dir},handleModelOps:function(e){console.log(e,"command"),this.$router.push({name:"模型即服务",params:{project_id:this.$route.params.project_id,task_id:this.$route.params.task_id,model_id:e}}),this.$message("click on item "+e)},_getExperimentbaseInfo:function(){this.listLoading=!0;var e=this,t={experiment_id:this.$route.params.experiment_id,user_key:JSON.parse(sessionStorage.getItem("name"))},i={"Content-Type":"application/json",Authorization:"Token "+JSON.parse(sessionStorage.getItem("token"))};Object(o["l"])(i,t).then((function(t){var i=t.msg,n=t.code,s=t.data;e.listLoading=!1,"999999"===n?e.ExperimentbaseInfo=s:e.$message.error({message:i,center:!0})}))},editSubmit:function(){var e=this;this.editLoading=!0;var t=JSON.stringify({run_id:this.$route.params.run_id,description:this.editModelForm.description,user_key:JSON.parse(sessionStorage.getItem("name"))});console.log(t,"dsdds"),r.a.ajax({type:"post",url:o["v"]+"/api/experiments/edit_modelrun_description",async:!0,data:t,headers:{"Content-Type":"application/json",Authorization:"Token "+JSON.parse(sessionStorage.getItem("token"))},timeout:5e3,success:function(t){e.editLoading=!1,e.editModelRunDescVisible=!1,e._getModelRun()}})},handleDel:function(e,t){var i=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then((function(){i.listLoading=!0;var e=i,n={project_id:Number(i.$route.params.project_id),table_name:t.tableName,ids:[t.id]},s={"Content-Type":"application/json",Authorization:"Token "+JSON.parse(sessionStorage.getItem("token"))};console.log(n,"paramsparamsparamslplp"),delSampleTable(s,n).then((function(t){var i=t.msg,n=t.code;"999999"===n?e.$message({message:"删除成功",center:!0,type:"success"}):e.$message.error({message:i,center:!0}),e.getSampleList()}))}))},handleCurrentChange:function(e){this.page=e,this._getModelRun()},selsModelRunTracking:function(e){this.selsModelRunCompare=e},compareVersion:function(){var e=this,t=this.selsModelRunCompare.map((function(e){return e.id})),i=this;this.$confirm("确认比较选中记录吗？","提示",{type:"warning"}).then((function(){i.listLoading=!0;Number(e.$route.params.project_id),JSON.parse(sessionStorage.getItem("token"));e.$router.push({name:"模型实验跟踪详情",params:{project_id:e.$route.params.project_id,task_id:e.$route.params.task_id,exp_id:t[0]},query:{exp_id_list:t}})}))}},mounted:function(){this._getModelRun(),this._getExperimentbaseInfo()}},d=l,c=(i("3731"),i("2877")),u=Object(c["a"])(d,n,s,!1,null,"24e3ea90",null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-902896aa.b39fbe26.js.map