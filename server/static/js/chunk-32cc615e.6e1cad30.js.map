{"version":3,"sources":["webpack:///./src/views/marketing-registry/AddCasePage.vue?2578","webpack:///src/views/marketing-registry/AddCasePage.vue","webpack:///./src/views/marketing-registry/AddCasePage.vue?1335","webpack:///./src/views/marketing-registry/AddCasePage.vue","webpack:///./src/views/marketing-registry/AddCasePage.vue?47cb"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","staticClass","attrs","size","slot","name","params","campaign_id","$route","_v","_s","abMetaData","app_type","creation_date","description","model","value","callback","$$v","activeNames","expression","nativeOn","$event","addNewExp","apply","arguments","ref","form","FormRules","modelData","on","selsExp","openAnnotation","scopedSlots","_u","key","fn","scope","row","altName","$set","trim","modelname","delModelHead","$index","length","addModelHead","_e","directives","rawName","handleSelect","getModelList","_l","item","index","id","searchApiList","selsChange","instance_status","instance_id","handleModelTest","total","handleCurrentChangeApi","staticRenderFns","data","baseExpSelected","mlexp","gexp","ModelProjects","apiListLoading","activeIndex","page","sels","abname","exposureNum","required","message","trigger","altlist","methods","getAbMetaData","$","type","url","async","ab_id","headers","Authorization","timeout","success","self","center","keyPath","console","val","getModelsGroup","instance","ins_id","_list","param","handleCurrentChange","_item","then","expRegData","catch","handleChange","column","watch","deep","computed","mounted","component"],"mappings":"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GAJ,aA3CA,SA2CAf,EAAAyD,GACA,mBACAC,+BAGA/B,uBAhDA,SAgDAgC,GAEA,uBACA,YACA,qBAOA/D,QA3DA,SA2DAyC,GACA,wBAIAuB,eAhEA,WAiEA,WACAd,UACAC,WACAC,uCACAC,SACApB,MAAAqB,gCACAC,SACAC,oEAEAC,YACAC,oBACA,mBACAC,4BACAG,mDAEAH,kBACAd,cACAe,gBAMA/B,gBAxFA,SAwFAoC,GACA,uBACA,WACA,kBACAX,uCACAY,cAEAJ,wBACAZ,UACAC,YACAC,yCACAC,SACApB,OACAsB,SACA,kCACAC,oEAEAC,YACAC,oBACAC,oBACA,mBACAA,qCACAA,sCACAG,uDAEAH,kBACAd,cACAe,gBAMAxC,aAzHA,SAyHA+C,GACA,uBACA,WACA,GAAAb,uCAAAd,aACA,IACA4B,iCAEAlB,UACAC,WACAC,kCACAC,SACApB,OACAsB,SACAC,oEAEAC,YACAC,oBACAC,oBACA,mBACAA,4BACAA,qBACAG,8CAEAH,kBACAd,cACAe,gBAOAS,oBAzJA,SAyJAN,GACA,mBAEArC,WA5JA,SA4JAe,GAAA,WACA,YACA,mDAEA,gCAGAA,uBACA,QACA6B,iBACAA,iBACAA,yBACAR,2BACA,yBACA,2DAGAtE,UA7KA,WA6KA,WACA,sCACA,MACA,QACA,+BACA+E,MAAA,WACA,sBACAjB,oCACAkB,8BAIAV,uBACAZ,UACAC,YACAC,wCACAC,SACApB,OACAsB,SACA,kCACAC,cACA,sDAEAC,YACAC,oBACA,mBACAC,gBACArF,aACAC,QACA+E,4BACA9E,2CAGAmF,YACAd,eACAe,UACAT,kBAGAQ,kBACAd,cACAe,kBAMAa,OAAA,oBAOAC,aAnOA,SAmOAX,KACA9D,6BAAA,wBACA,6BAEA,OAFA,cAGA,OAHA,QAIA0E,iBAJA,UAKA,QALA,WAOAA,cAKAC,OACAhF,MACAiF,UAGAC,YACAC,QAlSA,WAmSA,qBACA,sBACA,sBC/lBoW,I,wBCQhWC,EAAY,eACd,EACAtH,EACAsE,GACA,EACA,KACA,WACA,MAIa,aAAAgD,E,6CCnBf","file":"js/chunk-32cc615e.6e1cad30.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"margin\":\"30px\"}},[_c('el-divider'),_c('el-descriptions',{staticClass:\"margin-top\",attrs:{\"title\":\"实验基础信息\",\"column\":3,\"size\":_vm.size}},[_c('template',{slot:\"extra\"},[_c('router-link',{staticStyle:{\"text-decoration\":\"none\",\"color\":\"aliceblue\"},attrs:{\"to\":{\n          name: '活动管理',\n          params: { campaign_id: this.$route.params.campaign_id },\n        },\"align\":\"right\"}},[_c('el-button',{},[_c('i',{staticClass:\"el-icon-arrow-left\",staticStyle:{\"margin-right\":\"10px\"}}),_vm._v(\"返回活动管理\")])],1)],1),_c('el-descriptions-item',{attrs:{\"label\":\"实验名称\"}},[_vm._v(_vm._s(_vm.abMetaData.name))]),_c('el-descriptions-item',{attrs:{\"label\":\"实验类型\"}},[_c('el-tag',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(_vm._s(_vm.abMetaData.app_type))])],1),_c('el-descriptions-item',{attrs:{\"label\":\"创建于\"}},[_c('timeago',{attrs:{\"datetime\":_vm.abMetaData.creation_date,\"locale\":\"zh-CN\"}})],1),_c('el-descriptions-item',{attrs:{\"label\":\"实验描述\"}},[_vm._v(_vm._s(_vm.abMetaData.description))])],2),_c('el-collapse',{model:{value:(_vm.activeNames),callback:function ($$v) {_vm.activeNames=$$v},expression:\"activeNames\"}},[_c('el-collapse-item',{attrs:{\"title\":\"实验组创建及策略配置\",\"name\":\"1\"}},[_c('el-col',{staticClass:\"toolbar\",staticStyle:{\"padding-bottom\":\"10px\"},attrs:{\"span\":24}},[_c('el-button',{staticClass:\"return-list1\",staticStyle:{\"margin-left\":\"15px\",\"margin-right\":\"10px\"},attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.addNewExp.apply(null, arguments)}}},[_c('i',{staticClass:\"el-icon-plus\",staticStyle:{\"margin-right\":\"5px\",\"margin-left\":\"0px\"}}),_vm._v(\"保存\")]),_c('router-link',{staticStyle:{\"text-decoration\":\"none\",\"color\":\"aliceblue\"},attrs:{\"to\":{\n            name: '活动管理',\n            params: { campaign_id: this.$route.params.campaign_id },\n          },\"align\":\"right\"}},[_c('el-button',{staticClass:\"return-list1\"},[_vm._v(\"取消\")])],1)],1),_c('el-col',{attrs:{\"span\":24}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.FormRules}},[_c('div',{staticStyle:{\"border\":\"1px solid #e6e6e6\",\"margin-bottom\":\"10px\",\"padding\":\"15px\"}},[_c('p',{staticStyle:{\"margin-bottom\":\"0\"}},[_vm._v(\"测试您的产品的多种变化。\")]),_c('p',[_vm._v(\"\\n              注意：确保你的曝光率加起来是100%，并且你选择了一个基本的变体（出错的时候会统统发送给它）。\\n            \")]),_c('br'),_c('el-row',{attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"span\":22}},[_c('el-table',{ref:\"multipleHeadTable\",attrs:{\"data\":_vm.form.modelData,\"highlight-current-row\":\"\"},on:{\"selection-change\":_vm.selsExp}},[_c('el-table-column',{attrs:{\"label-class-name\":\"出错时将只向选择实例发送请求\",\"render-header\":_vm.openAnnotation,\"type\":\"selection\",\"min-width\":\"5%\",\"label\":\"默认\"}}),_c('el-table-column',{attrs:{\"prop\":\"altName\",\"label\":\"实验组\",\"min-width\":\"20%\",\"label-class-name\":\"曝光的实验实例名称\",\"render-header\":_vm.openAnnotation},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input',{attrs:{\"value\":scope.row.altName,\"placeholder\":\"请输入实验组名称\"},model:{value:(scope.row.altName),callback:function ($$v) {_vm.$set(scope.row, \"altName\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"scope.row.altName\"}})]}}])}),_c('el-table-column',{attrs:{\"prop\":\"altName\",\"label\":\"实验组描述\",\"min-width\":\"30%\",\"label-class-name\":\"实验组描述\",\"render-header\":_vm.openAnnotation},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input',{attrs:{\"value\":scope.row.description,\"placeholder\":\"请输入实验组描述\"},model:{value:(scope.row.description),callback:function ($$v) {_vm.$set(scope.row, \"description\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"scope.row.description\"}})]}}])}),_c('el-table-column',{attrs:{\"prop\":\"exposureNum\",\"label\":\"流量分配(%)\",\"min-width\":\"10%\",\"label-class-name\":\"各实例曝光比例\",\"render-header\":_vm.openAnnotation},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input',{attrs:{\"placeholder\":\"请输入流量比率\"},model:{value:(scope.row.exposureNum),callback:function ($$v) {_vm.$set(scope.row, \"exposureNum\", $$v)},expression:\"scope.row.exposureNum\"}})]}}])}),_c('el-table-column',{attrs:{\"prop\":\"modelname\",\"label\":\"策略配置\",\"min-width\":\"20%\",\"label-class-name\":\"可以从策略库挑选或单独创建\",\"render-header\":_vm.openAnnotation},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input',{attrs:{\"value\":scope.row.modelname,\"placeholder\":\"请输入策略\"},model:{value:(scope.row.modelname),callback:function ($$v) {_vm.$set(scope.row, \"modelname\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"scope.row.modelname\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"\",\"min-width\":\"10%\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('i',{staticClass:\"el-icon-delete\",staticStyle:{\"font-size\":\"30px\",\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.delModelHead(scope.$index)}}})]}}])}),_c('el-table-column',{staticStyle:{\"margin-right\":\"6px\"},attrs:{\"label\":\"\",\"min-width\":\"15%\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.$index === _vm.form.modelData.length - 1)?_c('el-button',{staticClass:\"el-icon-plus\",attrs:{\"size\":\"mini\"},on:{\"click\":_vm.addModelHead}}):_vm._e()]}}])})],1)],1)],1),_c('br'),_c('el-row',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.abMetaData.app_type != '普通实验'),expression:\"abMetaData.app_type != '普通实验'\"}],attrs:{\"gutter\":10}},[_c('h4',{staticStyle:{\"padding-left\":\"8px\"}},[_vm._v(\"请选择策略库的策略\")]),_c('br'),_c('el-col',{attrs:{\"span\":6}},[_c('div',{staticStyle:{\"height\":\"400px\",\"line-height\":\"100px\",\"overflow\":\"auto\",\"overflow-x\":\"hidden\",\"border\":\"1px solid #e6e6e6\"}},[_c('el-menu',{staticClass:\"el-menu-vertical-demo\",attrs:{\"active-text-color\":\"rgb(32, 160, 255)\",\"unique-opened\":true},on:{\"select\":_vm.handleSelect}},[_c('el-menu-item',{attrs:{\"index\":\"-1\"},nativeOn:{\"click\":function($event){return _vm.getModelList()}}},[_c('i',{staticClass:\"el-icon-menu\"}),_vm._v(\"所有策略\")]),_vm._l((_vm.ModelProjects),function(item,index){return [_c('el-menu-item',{key:item.id,staticClass:\"group\",attrs:{\"index\":index + ''},nativeOn:{\"click\":function($event){return _vm.getModelList(item.id)}}},[_c('template',{slot:\"title\"},[_vm._v(_vm._s(item.name)+\" \")])],2)]})],2)],1)]),_c('el-col',{attrs:{\"span\":18}},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.apiListLoading),expression:\"apiListLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.searchApiList,\"highlight-current-row\":\"\",\"show-header\":true,\"max-height\":\"400\"},on:{\"selection-change\":_vm.selsChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_c('el-table-column',{attrs:{\"prop\":\"modelname\",\"label\":\"策略名称\",\"min-width\":\"15%\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n                      \"+_vm._s(scope.row.model.name)+\"\\n                    \")]}}])}),_c('el-table-column',{attrs:{\"prop\":\"description\",\"label\":\"策略描述\",\"min-width\":\"25%\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n                      \"+_vm._s(scope.row.model.description)+\"\\n                    \")]}}])}),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"策略状态\",\"min-width\":\"25%\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n                          _vm.instance_status === 'ok' &&\n                          _vm.instance_id === scope.row.id\n                        ),expression:\"\\n                          instance_status === 'ok' &&\\n                          instance_id === scope.row.id\\n                        \"}],staticStyle:{\"padding\":\"2px 4px\",\"color\":\"#fff\",\"background-color\":\"#4bb74b\"}},[_vm._v(\"已上线\")]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n                          _vm.instance_status === 'failed' &&\n                          _vm.instance_id === scope.row.id\n                        ),expression:\"\\n                          instance_status === 'failed' &&\\n                          instance_id === scope.row.id\\n                        \"}],staticStyle:{\"padding\":\"2px 4px\",\"color\":\"#fff\",\"background-color\":\"#c0c0c0\"}},[_vm._v(\"未上线\")]),_c('el-button',{staticStyle:{\"margin-left\":\"5px\"},attrs:{\"type\":\"text\",\"size\":\"medium\"},on:{\"click\":function($event){return _vm.handleModelTest(scope.row)}}},[_vm._v(\"测试\")])]}}])})],1)],1)],1),_c('el-row',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.abMetaData.app_type != '普通实验'),expression:\"abMetaData.app_type != '普通实验'\"}]},[_c('el-col',{staticClass:\"toolbar\",attrs:{\"span\":24}},[_c('el-pagination',{staticStyle:{\"float\":\"right\"},attrs:{\"layout\":\"prev, pager, next\",\"page-size\":10,\"page-count\":_vm.total},on:{\"current-change\":_vm.handleCurrentChangeApi}})],1)],1)],1)])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div style=\"margin: 30px\">\n    <el-divider></el-divider>\n    <el-descriptions\n      class=\"margin-top\"\n      title=\"实验基础信息\"\n      :column=\"3\"\n      :size=\"size\"\n    >\n      <template slot=\"extra\">\n        <router-link\n          :to=\"{\n            name: '活动管理',\n            params: { campaign_id: this.$route.params.campaign_id },\n          }\"\n          style=\"text-decoration: none; color: aliceblue\"\n          align=\"right\"\n        >\n          <el-button class=\"\"\n            ><i class=\"el-icon-arrow-left\" style=\"margin-right: 10px\"></i\n            >返回活动管理</el-button\n          >\n        </router-link>\n      </template>\n      <el-descriptions-item label=\"实验名称\">{{\n        abMetaData.name\n      }}</el-descriptions-item>\n      <el-descriptions-item label=\"实验类型\">\n        <el-tag size=\"small\" type=\"primary\">{{ abMetaData.app_type }}</el-tag>\n      </el-descriptions-item>\n      <el-descriptions-item label=\"创建于\">\n        <timeago :datetime=\"abMetaData.creation_date\" locale=\"zh-CN\"></timeago>\n      </el-descriptions-item>\n      <el-descriptions-item label=\"实验描述\">{{\n        abMetaData.description\n      }}</el-descriptions-item>\n    </el-descriptions>\n    <el-collapse v-model=\"activeNames\">\n      <el-collapse-item title=\"实验组创建及策略配置\" name=\"1\">\n        <el-col :span=\"24\" class=\"toolbar\" style=\"padding-bottom: 10px\">\n          <el-button\n            class=\"return-list1\"\n            type=\"primary\"\n            style=\"margin-left: 15px; margin-right: 10px\"\n            @click.native=\"addNewExp\"\n            ><i\n              class=\"el-icon-plus\"\n              style=\"margin-right: 5px; margin-left: 0px\"\n            ></i\n            >保存</el-button\n          >\n          <router-link\n            :to=\"{\n              name: '活动管理',\n              params: { campaign_id: this.$route.params.campaign_id },\n            }\"\n            style=\"text-decoration: none; color: aliceblue\"\n            align=\"right\"\n          >\n            <el-button class=\"return-list1\">取消</el-button>\n          </router-link>\n        </el-col>\n        <el-col :span=\"24\">\n          <el-form :model=\"form\" ref=\"form\" :rules=\"FormRules\">\n            <div\n              style=\"\n                border: 1px solid #e6e6e6;\n                margin-bottom: 10px;\n                padding: 15px;\n              \"\n            >\n              <p style=\"margin-bottom: 0\">测试您的产品的多种变化。</p>\n              <p>\n                注意：确保你的曝光率加起来是100%，并且你选择了一个基本的变体（出错的时候会统统发送给它）。\n              </p>\n              <br />\n              <el-row :gutter=\"10\">\n                <el-col :span=\"22\">\n                  <el-table\n                    :data=\"form.modelData\"\n                    highlight-current-row\n                    ref=\"multipleHeadTable\"\n                    @selection-change=\"selsExp\"\n                  >\n                    <el-table-column\n                      label-class-name=\"出错时将只向选择实例发送请求\"\n                      :render-header=\"openAnnotation\"\n                      type=\"selection\"\n                      min-width=\"5%\"\n                      label=\"默认\"\n                    >\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"altName\"\n                      label=\"实验组\"\n                      min-width=\"20%\"\n                      label-class-name=\"曝光的实验实例名称\"\n                      :render-header=\"openAnnotation\"\n                    >\n                      <template slot-scope=\"scope\">\n                        <el-input\n                          v-model.trim=\"scope.row.altName\"\n                          :value=\"scope.row.altName\"\n                          placeholder=\"请输入实验组名称\"\n                        ></el-input>\n                      </template>\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"altName\"\n                      label=\"实验组描述\"\n                      min-width=\"30%\"\n                      label-class-name=\"实验组描述\"\n                      :render-header=\"openAnnotation\"\n                    >\n                      <template slot-scope=\"scope\">\n                        <el-input\n                          v-model.trim=\"scope.row.description\"\n                          :value=\"scope.row.description\"\n                          placeholder=\"请输入实验组描述\"\n                        ></el-input>\n                      </template>\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"exposureNum\"\n                      label=\"流量分配(%)\"\n                      min-width=\"10%\"\n                      label-class-name=\"各实例曝光比例\"\n                      :render-header=\"openAnnotation\"\n                    >\n                      <template slot-scope=\"scope\">\n                        <el-input\n                          v-model=\"scope.row.exposureNum\"\n                          placeholder=\"请输入流量比率\"\n                        ></el-input>\n                      </template>\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"modelname\"\n                      label=\"策略配置\"\n                      min-width=\"20%\"\n                      label-class-name=\"可以从策略库挑选或单独创建\"\n                      :render-header=\"openAnnotation\"\n                    >\n                      <template slot-scope=\"scope\">\n                        <el-input\n                          v-model.trim=\"scope.row.modelname\"\n                          :value=\"scope.row.modelname\"\n                          placeholder=\"请输入策略\"\n                        ></el-input>\n                      </template>\n                    </el-table-column>\n                    <el-table-column label=\"\" min-width=\"10%\">\n                      <template slot-scope=\"scope\">\n                        <i\n                          class=\"el-icon-delete\"\n                          style=\"font-size: 30px; cursor: pointer\"\n                          @click=\"delModelHead(scope.$index)\"\n                        ></i>\n                      </template>\n                    </el-table-column>\n                    <el-table-column\n                      label=\"\"\n                      min-width=\"15%\"\n                      style=\"margin-right: 6px\"\n                    >\n                      <template slot-scope=\"scope\">\n                        <el-button\n                          v-if=\"scope.$index === form.modelData.length - 1\"\n                          size=\"mini\"\n                          class=\"el-icon-plus\"\n                          @click=\"addModelHead\"\n                        ></el-button>\n                      </template>\n                    </el-table-column>\n                  </el-table>\n                </el-col>\n              </el-row>\n              <br />\n              <el-row :gutter=\"10\" v-show=\"abMetaData.app_type != '普通实验'\">\n                <h4 style=\"padding-left: 8px\">请选择策略库的策略</h4>\n                <br />\n                <el-col :span=\"6\">\n                  <div\n                    style=\"\n                      height: 400px;\n                      line-height: 100px;\n                      overflow: auto;\n                      overflow-x: hidden;\n                      border: 1px solid #e6e6e6;\n                    \"\n                  >\n                    <el-menu\n                      class=\"el-menu-vertical-demo\"\n                      active-text-color=\"rgb(32, 160, 255)\"\n                      :unique-opened=\"true\"\n                      @select=\"handleSelect\"\n                    >\n                      <el-menu-item index=\"-1\" @click.native=\"getModelList()\"\n                        ><i class=\"el-icon-menu\"></i>所有策略</el-menu-item\n                      >\n                      <template v-for=\"(item, index) in ModelProjects\">\n                        <el-menu-item\n                          :index=\"index + ''\"\n                          :key=\"item.id\"\n                          @click.native=\"getModelList(item.id)\"\n                          class=\"group\"\n                        >\n                          <template slot=\"title\">{{ item.name }} </template>\n                        </el-menu-item>\n                      </template>\n                    </el-menu>\n                  </div>\n                </el-col>\n                <el-col :span=\"18\">\n                  <el-table\n                    :data=\"searchApiList\"\n                    highlight-current-row\n                    v-loading=\"apiListLoading\"\n                    style=\"width: 100%\"\n                    :show-header=\"true\"\n                    max-height=\"400\"\n                    @selection-change=\"selsChange\"\n                  >\n                    <el-table-column type=\"selection\" width=\"55\">\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"modelname\"\n                      label=\"策略名称\"\n                      min-width=\"15%\"\n                      sortable\n                    >\n                      <template slot-scope=\"scope\">\n                        {{ scope.row.model.name }}\n                      </template>\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"description\"\n                      label=\"策略描述\"\n                      min-width=\"25%\"\n                      sortable\n                    >\n                      <template slot-scope=\"scope\">\n                        {{ scope.row.model.description }}\n                      </template>\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"status\"\n                      label=\"策略状态\"\n                      min-width=\"25%\"\n                      sortable\n                    >\n                      <template slot-scope=\"scope\">\n                        <!--<img v-show=\"scope.row.status\" src=\"../../../assets/icon-yes.svg\"/>\n                                <img v-show=\"!scope.row.status\" src=\"../../../assets/icon-no.svg\"/>-->\n                        <span\n                          v-show=\"\n                            instance_status === 'ok' &&\n                            instance_id === scope.row.id\n                          \"\n                          style=\"\n                            padding: 2px 4px;\n                            color: #fff;\n                            background-color: #4bb74b;\n                          \"\n                          >已上线</span\n                        >\n                        <span\n                          v-show=\"\n                            instance_status === 'failed' &&\n                            instance_id === scope.row.id\n                          \"\n                          style=\"\n                            padding: 2px 4px;\n                            color: #fff;\n                            background-color: #c0c0c0;\n                          \"\n                          >未上线</span\n                        >\n                        <el-button\n                          @click=\"handleModelTest(scope.row)\"\n                          type=\"text\"\n                          style=\"margin-left: 5px\"\n                          size=\"medium\"\n                          >测试</el-button\n                        >\n                      </template>\n                    </el-table-column>\n                  </el-table>\n                </el-col>\n              </el-row>\n              <el-row v-show=\"abMetaData.app_type != '普通实验'\">\n                <el-col :span=\"24\" class=\"toolbar\">\n                  <el-pagination\n                    layout=\"prev, pager, next\"\n                    @current-change=\"handleCurrentChangeApi\"\n                    :page-size=\"10\"\n                    :page-count=\"total\"\n                    style=\"float: right\"\n                  >\n                  </el-pagination>\n                </el-col>\n              </el-row>\n            </div>\n          </el-form>\n        </el-col>\n      </el-collapse-item>\n    </el-collapse>\n  </div>\n</template>\n\n<script>\nimport { test } from '@/api/api'\nimport $ from 'jquery'\n\nexport default {\n  data () {\n    return {\n      baseExpSelected: [],\n      mlexp: false,\n      gexp: false,\n      abMetaData: {},\n      activeNames: ['1'],\n      ModelProjects: [],\n      instance_status: 'failed',\n      instance_id: 0,\n      apiListLoading: false,\n      activeIndex: '',\n      searchApiList: [],\n      page: 1,\n      total: 0,\n      sels: [], // 列表选中列\n      form: {\n        abname: '',\n        description: '',\n        modelData: [\n          {\n            altName: '',\n            description: '',\n            modelname: 'No Strategy',\n            exposureNum: 50\n          }\n        ]\n      },\n      FormRules: {\n        modelname: [\n          { required: true, message: '请输入实验用例名称', trigger: 'blur' }\n        ],\n        altlist: [\n          {\n            required: true,\n            message: '请输入待测试的模型列表',\n            trigger: 'blur'\n          }\n        ]\n      }\n    }\n  },\n  methods: {\n    getAbMetaData () {\n      this.listLoading = true\n      let self = this\n      $.ajax({\n        type: 'get',\n        url: test + '/api/campaigns/get_abexp_metadata',\n        async: true,\n        data: { ab_id: this.$route.params.ab_id },\n        headers: {\n          Authorization: 'Token ' + JSON.parse(sessionStorage.getItem('token'))\n        },\n        timeout: 5000,\n        success: function (data) {\n          self.listLoading = false\n          if (data.code === '999999') {\n            self.abMetaData = data.data.data\n          } else {\n            self.$message.error({\n              message: data.msg,\n              center: true\n            })\n          }\n        }\n      })\n    },\n    addModelHead () {\n      let headers = {\n        modelname: 'No Strategy',\n        description: '',\n        exposureNum: 50,\n        altName: 'alt_name'\n      }\n      this.form.modelData.push(headers)\n      // let rows = [this.form.modelData[this.form.modelData.length - 1]]\n      // this.form.modelData[this.form.modelData.length-1].exposureNum=50\n      // this.toggleHeadSelection(rows)\n    },\n    delModelHead (index) {\n      if (this.form.modelData.length !== 1) {\n        this.form.modelData.splice(index, 1)\n      }\n    },\n    handleSelect (key, keyPath) {\n      this.activeIndex = key\n      console.log(this.activeIndex)\n    },\n\n    handleCurrentChangeApi (val) {\n      // console.log(this.groupData[this.activeIndex][\"id\"]);\n      if (this.activeIndex['id']) {\n        this.page = val\n        this.getModelList()\n      } else {\n        this.page = val\n        this.getModelList()\n      }\n    },\n\n    selsExp (sels) {\n      this.baseExpSelected = sels\n    },\n\n    // 获取api分组\n    getModelsGroup () {\n      let self = this\n      $.ajax({\n        type: 'get',\n        url: test + '/api/models/project_group',\n        async: true,\n        data: { ab_id: this.$route.params.ab_id },\n        headers: {\n          Authorization: 'Token ' + JSON.parse(sessionStorage.getItem('token'))\n        },\n        timeout: 5000,\n        success: function (data) {\n          if (data.code === '999999') {\n            self.ModelProjects = data.data.data\n            console.log(self.ModelProjects, 'self.ModelProjects')\n          } else {\n            self.$message.error({\n              message: data.msg,\n              center: true\n            })\n          }\n        }\n      })\n    },\n    handleModelTest (instance) {\n      this.apiListLoading = true\n      let self = this\n      let param = JSON.stringify({\n        ab_id: Number(this.$route.params.ab_id),\n        ins_id: instance.id\n      })\n      console.log(param, 'ins_is')\n      $.ajax({\n        type: 'post',\n        url: test + '/api/models/api_status_test',\n        async: true,\n        data: param,\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Token ' + JSON.parse(sessionStorage.getItem('token'))\n        },\n        timeout: 5000,\n        success: function (data) {\n          self.apiListLoading = false\n          if (data.code === '999999') {\n            self.instance_status = data.data.data.status\n            self.instance_id = data.data.data.instance_id\n            console.log(self.instance_status, 'self.instance_status')\n          } else {\n            self.$message.error({\n              message: data.msg,\n              center: true\n            })\n          }\n        }\n      })\n    },\n    getModelList (_list) {\n      this.apiListLoading = true\n      let self = this\n      let param = { ab_id: Number(this.$route.params.ab_id), page: self.page }\n      if (_list) {\n        param['model_project_id'] = Number(_list)\n      }\n      $.ajax({\n        type: 'get',\n        url: test + '/api/models/api_list',\n        async: true,\n        data: param,\n        headers: {\n          Authorization: 'Token ' + JSON.parse(sessionStorage.getItem('token'))\n        },\n        timeout: 5000,\n        success: function (data) {\n          self.apiListLoading = false\n          if (data.code === '999999') {\n            self.searchApiList = data.data.data\n            self.total = data.data.total\n            console.log(self.searchApiList, 'searchApiList')\n          } else {\n            self.$message.error({\n              message: data.msg,\n              center: true\n            })\n          }\n        }\n      })\n    },\n\n    handleCurrentChange (val) {\n      this.currentRow = val\n    },\n    selsChange (sels) {\n      this.sels = sels\n      if (sels.length === 1 && this.form.modelData[0].altName === '') {\n        // 删除第一个空记录\n        this.form.modelData.splice(0, 1)\n      }\n      // 从模型api信息填充\n      sels.forEach((item) => {\n        let _item = item\n        _item.exposureNum = 50\n        _item.altName = item.name\n        _item.modelname = item.model.name\n        console.log(_item, 'ddddddddd')\n        this.form.modelData.push(_item)\n        this.form.modelData = Array.from(new Set(this.form.modelData))\n      })\n    },\n    addNewExp () {\n      this.$refs.form.validate((valid) => {\n        if (valid) {\n          let self = this\n          this.$confirm('确认提交实验吗？', '提示', {})\n            .then(() => {\n              let param = JSON.stringify({\n                ab_id: Number(self.$route.params.ab_id),\n                expRegData: self.form.modelData\n                // baseExpSelected: self.baseExpSelected,\n                // description: self.form.description// \"A/B exp create\"\n              })\n              console.log(param, 'param')\n              $.ajax({\n                type: 'post',\n                url: test + '/api/campaigns/add_exp_alt',\n                async: true,\n                data: param,\n                headers: {\n                  'Content-Type': 'application/json',\n                  Authorization:\n                    'Token ' + JSON.parse(sessionStorage.getItem('token'))\n                },\n                timeout: 5000,\n                success: function (data) {\n                  if (data.code === '999999') {\n                    self.$router.push({\n                      name: '实验组信息',\n                      params: {\n                        ab_id: self.$route.params.ab_id,\n                        campaign_id: self.$route.params.campaign_id\n                      }\n                    })\n                    self.$message({\n                      message: '保存成功',\n                      center: true,\n                      type: 'success'\n                    })\n                  } else {\n                    self.$message.error({\n                      message: data.msg,\n                      center: true\n                    })\n                  }\n                }\n              })\n            })\n            .catch(() => {})\n        }\n      })\n    },\n\n    // addApi: function () {\n    // header 需要\"Content-Type\": \"application/json\"\n    handleChange (val) {},\n    openAnnotation: function (h, { column, $index }) {\n      return (\n        <el-tooltip\n          class=\"item\"\n          effect=\"dark\"\n          content={column.labelClassName}\n          placement=\"top\"\n        >\n          <span>{column.label}</span>\n        </el-tooltip>\n      )\n    }\n  },\n  watch: {\n    form: {\n      deep: true\n    }\n  },\n  computed: {},\n  mounted () {\n    this.getAbMetaData()\n    this.getModelsGroup()\n    this.getModelList()\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\np {\n  margin: 0 0 10px;\n}\n.return-list {\n  margin-top: 0px;\n  margin-bottom: 10px;\n  border-radius: 25px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddCasePage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddCasePage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddCasePage.vue?vue&type=template&id=40217ddc&scoped=true&\"\nimport script from \"./AddCasePage.vue?vue&type=script&lang=js&\"\nexport * from \"./AddCasePage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddCasePage.vue?vue&type=style&index=0&id=40217ddc&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"40217ddc\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddCasePage.vue?vue&type=style&index=0&id=40217ddc&lang=scss&scoped=true&\""],"sourceRoot":""}